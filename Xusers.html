<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X User Hub</title>
    <style>
        * { box-sizing: border-box; }
        body { font-family: -apple-system, sans-serif; display: flex; height: 100vh; margin: 0; background: #000; color: #fff; }
        
        /* Sidebar */
        #sidebar { width: 300px; border-right: 1px solid #333; display: flex; flex-direction: column; padding: 20px; }
        h2 { font-size: 1.2rem; margin-top: 0; color: #1d9bf0; }
        
        #user-list { list-style: none; padding: 0; flex-grow: 1; overflow-y: auto; }
        .user-btn { 
            width: 100%; text-align: left; padding: 12px; margin-bottom: 8px;
            background: #16181c; border: 1px solid #333; border-radius: 8px;
            color: white; cursor: pointer; transition: 0.2s;
        }
        .user-btn:hover { background: #202327; border-color: #1d9bf0; }
        .user-btn.active { background: #1d9bf0; border-color: #1d9bf0; font-weight: bold; }

        /* Input Area */
        .add-area { margin-top: 20px; border-top: 1px solid #333; padding-top: 20px; }
        input { 
            width: 100%; padding: 10px; border-radius: 20px; border: 1px solid #333; 
            background: #000; color: white; margin-bottom: 10px; outline: none;
        }
        button#add-btn { 
            width: 100%; padding: 10px; border-radius: 20px; border: none;
            background: #fff; color: #000; font-weight: bold; cursor: pointer;
        }

        /* Main Viewport */
        #content-view { flex-grow: 1; background: #16181c; position: relative; }
        iframe { width: 100%; height: 100%; border: none; }
        .placeholder {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100%; color: #71767b; text-align: center; padding: 20px;
        }
    </style>
</head>
<body>

<div id="sidebar">
    <h2>X User List</h2>
    <div id="user-list">
        <button class="user-btn" onclick="openUser('elonmusk', this)">@elonmusk</button>
        <button class="user-btn" onclick="openUser('nasa', this)">@nasa</button>
    </div>

    <div class="add-area">
        <input type="text" id="username-input" placeholder="Enter username...">
        <button id="add-btn" onclick="addNewUser()">Add to List</button>
    </div>
</div>

<div id="content-view">
    <div id="placeholder" class="placeholder">
        <h3>Select a user to view posts</h3>
        <p>Note: X may prevent loading inside a frame. <br> If the screen is blank, click the button below.</p>
        <button id="direct-link" style="padding: 10px 20px; border-radius: 20px; cursor: pointer; display: none;"></button>
    </div>
    <iframe id="x-frame" src=""></iframe>
</div>

<script>
    function openUser(username, btn) {
        // Highlight active button
        document.querySelectorAll('.user-btn').forEach(b => b.classList.remove('active'));
        if(btn) btn.classList.add('active');

        const frame = document.getElementById('x-frame');
        const placeholder = document.getElementById('placeholder');
        const directBtn = document.getElementById('direct-link');
        const url = `https://x.com/${username}`;

        // Attempt to load. 
        // NOTE: Most browsers/X headers block iframing the full site for security.
        // This will work in a local environment or specific browser setups.
        frame.src = url;
        
        // Provide a fallback link in case X blocks the frame (very common)
        placeholder.style.display = "flex";
        directBtn.style.display = "block";
        directBtn.innerHTML = `Open @${username} on X.com`;
        directBtn.onclick = () => window.open(url, '_blank');
    }

    function addNewUser() {
        const input = document.getElementById('username-input');
        const user = input.value.trim().replace('@', '');
        if (!user) return;

        const list = document.getElementById('user-list');
        const newBtn = document.createElement('button');
        newBtn.className = 'user-btn';
        newBtn.innerText = `@${user}`;
        newBtn.onclick = function() { openUser(user, newBtn); };
        
        list.appendChild(newBtn);
        input.value = '';
    }
</script>

</body>
</html>